/**
* @license Apache-2.0
*
* Copyright (c) 2025 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/

#include "stdlib/stats/base/dists/signrank/quantile.h"
#include "stdlib/math/base/assert/is_nan.h"
#include <stdio.h>

/**
* Evaluates the quantile function for the Wilcoxon signed rank test statistic with `n` observations.
*
* @param p    input probability
* @param n    number of observations
* @return     evaluated quantile
*
* @example
* double y = stdlib_base_dists_signrank_quantile( 0.5, 5 );
* // returns 11
*/
int main() {
    double probabilities[] = {0.1, 0.25, 0.5, 0.75, 0.9};
    int sample_sizes[] = {3, 5, 7, 10};

    printf("Quantile Function for Wilcoxon Signed Rank Test\n");
    printf("------------------------------------------------\n");

    for (int i = 0; i < sizeof(sample_sizes) / sizeof(sample_sizes[0]); i++) {
        int n = sample_sizes[i];
        printf("\nSample size (n): %d\n", n);
        for (int j = 0; j < sizeof(probabilities) / sizeof(probabilities[0]); j++) {
            double p = probabilities[j];
            double result = stdlib_base_dists_signrank_quantile(p, n);
            printf("P: %.2f -> Quantile: %.4f\n", p, result);
        }
    }

    return 0;
}
